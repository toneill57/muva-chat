{
  "generated_at": "2025-11-01T16:39:08.932Z",
  "source_project": "ooaumjzaztmutltifhoq",
  "total_tables": 41,
  "total_rows": 6943,
  "total_indexes": 234,
  "total_rls_policies": 97,
  "total_functions": 89,
  "total_extensions": 8,
  "extensions": [
    {
      "name": "pg_graphql",
      "version": "1.5.11"
    },
    {
      "name": "pg_net",
      "version": "0.19.5"
    },
    {
      "name": "pg_stat_statements",
      "version": "1.11"
    },
    {
      "name": "pgcrypto",
      "version": "1.3"
    },
    {
      "name": "plpgsql",
      "version": "1.0"
    },
    {
      "name": "supabase_vault",
      "version": "0.3.1"
    },
    {
      "name": "uuid-ossp",
      "version": "1.1"
    },
    {
      "name": "vector",
      "version": "0.8.0"
    }
  ],
  "tables": [
    {
      "name": "accommodation_units",
      "row_count": 2,
      "columns": 29,
      "constraints": 5,
      "indexes": 2,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "hotel_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_type_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_instance_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "unit_number",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "short_description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "unit_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "capacity",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "bed_configuration",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "size_m2",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "floor_number",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "view_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "tourism_features",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "booking_policies",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "unique_features",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "accessibility_features",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "location_details",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "boolean",
          "column_name": "is_featured",
          "is_nullable": "YES",
          "column_default": "false"
        },
        {
          "data_type": "integer",
          "column_name": "display_order",
          "is_nullable": "YES",
          "column_default": "1"
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": "'active'::character varying"
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_fast",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_balanced",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "images",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_type_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_39618_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39618_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "accommodation_units_hotel_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "accommodation_units_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "accommodation_units_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX accommodation_units_pkey ON public.accommodation_units USING btree (id)",
          "indexname": "accommodation_units_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_accommodation_units_tenant_hotel_fk ON public.accommodation_units USING btree (tenant_id, hotel_id)",
          "indexname": "idx_accommodation_units_tenant_hotel_fk"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_tenant_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_tenant_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_tenant_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_tenant_update"
        }
      ]
    },
    {
      "name": "accommodation_units_manual",
      "row_count": 8,
      "columns": 14,
      "constraints": 3,
      "indexes": 2,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "unit_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "manual_content",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "detailed_instructions",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "house_rules_specific",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "emergency_info",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "wifi_password",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "safe_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "appliance_guides",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "text",
          "column_name": "local_tips",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_balanced",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_49171_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "accommodation_units_manual_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "accommodation_units_manual_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX accommodation_units_manual_pkey ON public.accommodation_units_manual USING btree (unit_id)",
          "indexname": "accommodation_units_manual_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_accommodation_manual_embedding_balanced_hnsw ON public.accommodation_units_manual USING hnsw (embedding_balanced extensions.vector_cosine_ops)",
          "indexname": "idx_accommodation_manual_embedding_balanced_hnsw"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Guest can view their unit manual"
        }
      ]
    },
    {
      "name": "accommodation_units_manual_chunks",
      "row_count": 219,
      "columns": 14,
      "constraints": 12,
      "indexes": 7,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "extensions.uuid_generate_v4()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "manual_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "chunk_content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "chunk_index",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "total_chunks",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "section_title",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_balanced",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_fast",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_49408_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49408_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49408_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49408_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49408_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49408_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49408_7_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "accommodation_units_manual_chunks_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "accommodation_units_manual_chunks_manual_id_chunk_index_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "accommodation_units_manual_chunks_manual_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "accommodation_units_manual_chunks_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "accommodation_units_manual_chunks_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX accommodation_units_manual_chunks_manual_id_chunk_index_key ON public.accommodation_units_manual_chunks USING btree (manual_id, chunk_index)",
          "indexname": "accommodation_units_manual_chunks_manual_id_chunk_index_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX accommodation_units_manual_chunks_pkey ON public.accommodation_units_manual_chunks USING btree (id)",
          "indexname": "accommodation_units_manual_chunks_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_manual_chunks_accommodation_unit_id ON public.accommodation_units_manual_chunks USING btree (accommodation_unit_id)",
          "indexname": "idx_manual_chunks_accommodation_unit_id"
        },
        {
          "indexdef": "CREATE INDEX idx_manual_chunks_embedding_balanced ON public.accommodation_units_manual_chunks USING hnsw (embedding_balanced extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_manual_chunks_embedding_balanced"
        },
        {
          "indexdef": "CREATE INDEX idx_manual_chunks_embedding_fast ON public.accommodation_units_manual_chunks USING hnsw (embedding_fast extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_manual_chunks_embedding_fast"
        },
        {
          "indexdef": "CREATE INDEX idx_manual_chunks_manual_id ON public.accommodation_units_manual_chunks USING btree (manual_id)",
          "indexname": "idx_manual_chunks_manual_id"
        },
        {
          "indexdef": "CREATE INDEX idx_manual_chunks_tenant_id ON public.accommodation_units_manual_chunks USING btree (tenant_id)",
          "indexname": "idx_manual_chunks_tenant_id"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_manual_chunks_tenant_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_manual_chunks_tenant_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_manual_chunks_tenant_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_units_manual_chunks_tenant_update"
        }
      ]
    },
    {
      "name": "accommodation_units_public",
      "row_count": 151,
      "columns": 19,
      "constraints": 7,
      "indexes": 6,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "unit_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "unit_number",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "unit_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "short_description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "highlights",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "amenities",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "pricing",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "photos",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "text",
          "column_name": "virtual_tour_url",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_fast",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "boolean",
          "column_name": "is_bookable",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_49102_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49102_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49102_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_49102_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "accommodation_units_public_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "accommodation_units_public_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "accommodation_units_public_tenant_name_key",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX accommodation_units_public_embedding_idx ON public.accommodation_units_public USING hnsw (embedding extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "accommodation_units_public_embedding_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX accommodation_units_public_pkey ON public.accommodation_units_public USING btree (unit_id)",
          "indexname": "accommodation_units_public_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX accommodation_units_public_tenant_name_key ON public.accommodation_units_public USING btree (tenant_id, name)",
          "indexname": "accommodation_units_public_tenant_name_key"
        },
        {
          "indexdef": "CREATE INDEX idx_accommodation_public_embedding_fast_hnsw ON public.accommodation_units_public USING hnsw (embedding_fast extensions.vector_cosine_ops)",
          "indexname": "idx_accommodation_public_embedding_fast_hnsw"
        },
        {
          "indexdef": "CREATE INDEX idx_accommodation_public_tenant ON public.accommodation_units_public USING btree (tenant_id) WHERE (is_active = true)",
          "indexname": "idx_accommodation_public_tenant"
        },
        {
          "indexdef": "CREATE INDEX idx_accommodation_public_type ON public.accommodation_units_public USING btree (tenant_id, unit_type)",
          "indexname": "idx_accommodation_public_type"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "accommodation_public_read_all"
        }
      ]
    },
    {
      "name": "airbnb_motopress_comparison",
      "row_count": 0,
      "columns": 18,
      "constraints": 14,
      "indexes": 7,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "motopress_booking_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "check_in_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "check_out_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "adults",
          "is_nullable": "YES",
          "column_default": "1"
        },
        {
          "data_type": "integer",
          "column_name": "children",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "numeric",
          "column_name": "total_price",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "currency",
          "is_nullable": "YES",
          "column_default": "'COP'::text"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "synced_from_motopress_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "boolean",
          "column_name": "matched_with_ics",
          "is_nullable": "YES",
          "column_default": "false"
        },
        {
          "data_type": "uuid",
          "column_name": "ics_event_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "data_differences",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "numeric",
          "column_name": "match_confidence",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "raw_motopress_data",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "NO",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101669_11_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_16_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_17_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_18_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101669_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "airbnb_motopress_comparison_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "airbnb_motopress_comparison_ics_event_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "airbnb_motopress_comparison_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "airbnb_motopress_comparison_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "airbnb_motopress_comparison_tenant_id_motopress_booking_id__key",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX airbnb_motopress_comparison_pkey ON public.airbnb_motopress_comparison USING btree (id)",
          "indexname": "airbnb_motopress_comparison_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX airbnb_motopress_comparison_tenant_id_motopress_booking_id__key ON public.airbnb_motopress_comparison USING btree (tenant_id, motopress_booking_id, check_in_date, accommodation_unit_id)",
          "indexname": "airbnb_motopress_comparison_tenant_id_motopress_booking_id__key"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_motopress_comparison_dates ON public.airbnb_motopress_comparison USING btree (check_in_date, check_out_date)",
          "indexname": "idx_airbnb_motopress_comparison_dates"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_motopress_comparison_ics_fk ON public.airbnb_motopress_comparison USING btree (ics_event_id)",
          "indexname": "idx_airbnb_motopress_comparison_ics_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_motopress_comparison_matched ON public.airbnb_motopress_comparison USING btree (matched_with_ics) WHERE (matched_with_ics = false)",
          "indexname": "idx_airbnb_motopress_comparison_matched"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_motopress_comparison_tenant ON public.airbnb_motopress_comparison USING btree (tenant_id)",
          "indexname": "idx_airbnb_motopress_comparison_tenant"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_motopress_comparison_unit ON public.airbnb_motopress_comparison USING btree (accommodation_unit_id)",
          "indexname": "idx_airbnb_motopress_comparison_unit"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "airbnb_motopress_comparison_access"
        }
      ]
    },
    {
      "name": "airbnb_mphb_imported_reservations",
      "row_count": 0,
      "columns": 29,
      "constraints": 9,
      "indexes": 8,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_booking_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_accommodation_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_type_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_email",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "phone_full",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "phone_last_4",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_country",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "check_in_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "check_out_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "check_in_time",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "check_out_time",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "adults",
          "is_nullable": "YES",
          "column_default": "1"
        },
        {
          "data_type": "integer",
          "column_name": "children",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "numeric",
          "column_name": "total_price",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "currency",
          "is_nullable": "YES",
          "column_default": "'COP'::character varying"
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "comparison_status",
          "is_nullable": "YES",
          "column_default": "'pending'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "direct_airbnb_reservation_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "given_names",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "first_surname",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "second_surname",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_compared_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "booking_notes",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "raw_motopress_data",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101713_11_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101713_12_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101713_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101713_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101713_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101713_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "airbnb_mphb_imported_reservat_tenant_id_motopress_booking_i_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "airbnb_mphb_imported_reservations_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "airbnb_mphb_imported_reservations_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX airbnb_mphb_imported_reservat_tenant_id_motopress_booking_i_key ON public.airbnb_mphb_imported_reservations USING btree (tenant_id, motopress_booking_id, check_in_date, motopress_accommodation_id)",
          "indexname": "airbnb_mphb_imported_reservat_tenant_id_motopress_booking_i_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX airbnb_mphb_imported_reservations_pkey ON public.airbnb_mphb_imported_reservations USING btree (id)",
          "indexname": "airbnb_mphb_imported_reservations_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_mphb_comparison ON public.airbnb_mphb_imported_reservations USING btree (comparison_status, last_compared_at)",
          "indexname": "idx_airbnb_mphb_comparison"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_mphb_dates ON public.airbnb_mphb_imported_reservations USING btree (check_in_date, check_out_date)",
          "indexname": "idx_airbnb_mphb_dates"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_mphb_imported_reservations_unit_fk ON public.airbnb_mphb_imported_reservations USING btree (accommodation_unit_id)",
          "indexname": "idx_airbnb_mphb_imported_reservations_unit_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_mphb_motopress_id ON public.airbnb_mphb_imported_reservations USING btree (motopress_booking_id)",
          "indexname": "idx_airbnb_mphb_motopress_id"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_mphb_phone ON public.airbnb_mphb_imported_reservations USING btree (phone_last_4)",
          "indexname": "idx_airbnb_mphb_phone"
        },
        {
          "indexdef": "CREATE INDEX idx_airbnb_mphb_tenant ON public.airbnb_mphb_imported_reservations USING btree (tenant_id)",
          "indexname": "idx_airbnb_mphb_tenant"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "airbnb_mphb_tenant_isolation"
        }
      ]
    },
    {
      "name": "calendar_event_conflicts",
      "row_count": 0,
      "columns": 15,
      "constraints": 14,
      "indexes": 6,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "event_1_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "event_2_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "conflict_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "overlap_start",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "overlap_end",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "conflict_severity",
          "is_nullable": "YES",
          "column_default": "'medium'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "resolution_strategy",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "winning_event_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "resolution_notes",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "resolved_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "resolved_by",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "detected_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101614_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101614_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101614_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101614_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101614_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_event_conflicts_conflict_severity_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_event_conflicts_conflict_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_event_conflicts_event_1_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "calendar_event_conflicts_event_2_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "calendar_event_conflicts_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "calendar_event_conflicts_resolution_strategy_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_event_conflicts_winning_event_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "different_events",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "unique_conflict_pair",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX calendar_event_conflicts_pkey ON public.calendar_event_conflicts USING btree (id)",
          "indexname": "calendar_event_conflicts_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_event_conflicts_winning_fk ON public.calendar_event_conflicts USING btree (winning_event_id)",
          "indexname": "idx_calendar_event_conflicts_winning_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_conflicts_events ON public.calendar_event_conflicts USING btree (event_1_id, event_2_id)",
          "indexname": "idx_conflicts_events"
        },
        {
          "indexdef": "CREATE INDEX idx_conflicts_severity ON public.calendar_event_conflicts USING btree (conflict_severity, detected_at DESC) WHERE (resolved_at IS NULL)",
          "indexname": "idx_conflicts_severity"
        },
        {
          "indexdef": "CREATE INDEX idx_conflicts_unresolved ON public.calendar_event_conflicts USING btree (tenant_id, detected_at DESC) WHERE (resolved_at IS NULL)",
          "indexname": "idx_conflicts_unresolved"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX unique_conflict_pair ON public.calendar_event_conflicts USING btree (event_1_id, event_2_id)",
          "indexname": "unique_conflict_pair"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can manage their own conflicts"
        }
      ]
    },
    {
      "name": "calendar_events",
      "row_count": 74,
      "columns": 36,
      "constraints": 25,
      "indexes": 9,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "source",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "external_uid",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "event_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "start_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "end_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "time without time zone",
          "column_name": "check_in_time",
          "is_nullable": "YES",
          "column_default": "'15:00:00'::time without time zone"
        },
        {
          "data_type": "time without time zone",
          "column_name": "check_out_time",
          "is_nullable": "YES",
          "column_default": "'11:00:00'::time without time zone"
        },
        {
          "data_type": "text",
          "column_name": "summary",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "reservation_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_name",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_email",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_phone",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_phone_last4",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "total_guests",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "adults",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "children",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "numeric",
          "column_name": "total_price",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "currency",
          "is_nullable": "YES",
          "column_default": "'COP'::character varying"
        },
        {
          "data_type": "integer",
          "column_name": "source_priority",
          "is_nullable": "NO",
          "column_default": "5"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_modified",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "sequence_number",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "sync_generation",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "ics_dtstamp",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "first_seen_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_seen_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": "'active'::character varying"
        },
        {
          "data_type": "boolean",
          "column_name": "is_deleted",
          "is_nullable": "YES",
          "column_default": "false"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "deleted_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "parent_event_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "merged_into_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101488_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_23_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_28_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_29_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_30_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_7_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101488_8_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_events_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "calendar_events_event_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_events_merged_into_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "calendar_events_parent_event_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "calendar_events_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "calendar_events_source_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_events_source_priority_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_events_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "unique_event_per_source",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "unique_event_per_tenant",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "valid_date_range",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "valid_guest_count",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "valid_price",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX calendar_events_pkey ON public.calendar_events USING btree (id)",
          "indexname": "calendar_events_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_events_dates ON public.calendar_events USING btree (accommodation_unit_id, start_date, end_date) WHERE (((status)::text = 'active'::text) AND (NOT is_deleted))",
          "indexname": "idx_calendar_events_dates"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_events_merged_into_fk ON public.calendar_events USING btree (merged_into_id)",
          "indexname": "idx_calendar_events_merged_into_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_events_parent ON public.calendar_events USING btree (parent_event_id) WHERE (parent_event_id IS NOT NULL)",
          "indexname": "idx_calendar_events_parent"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_events_reservation_code ON public.calendar_events USING btree (reservation_code) WHERE (reservation_code IS NOT NULL)",
          "indexname": "idx_calendar_events_reservation_code"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_events_source ON public.calendar_events USING btree (source, external_uid)",
          "indexname": "idx_calendar_events_source"
        },
        {
          "indexdef": "CREATE INDEX idx_calendar_events_tenant_active ON public.calendar_events USING btree (tenant_id, status) WHERE (NOT is_deleted)",
          "indexname": "idx_calendar_events_tenant_active"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX unique_event_per_source ON public.calendar_events USING btree (tenant_id, source, external_uid)",
          "indexname": "unique_event_per_source"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX unique_event_per_tenant ON public.calendar_events USING btree (tenant_id, external_uid)",
          "indexname": "unique_event_per_tenant"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can delete their own calendar events"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can insert their own calendar events"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can update their own calendar events"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can view their own calendar events"
        }
      ]
    },
    {
      "name": "calendar_sync_logs",
      "row_count": 0,
      "columns": 23,
      "constraints": 7,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "feed_config_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "started_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "completed_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "duration_ms",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": "'running'::character varying"
        },
        {
          "data_type": "integer",
          "column_name": "events_found",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "events_added",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "events_updated",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "events_deleted",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "events_skipped",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "conflicts_detected",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "conflicts_resolved",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "jsonb",
          "column_name": "errors",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "warnings",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "http_response_time_ms",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "parse_time_ms",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "db_write_time_ms",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "numeric",
          "column_name": "total_memory_mb",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "request_headers",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "response_headers",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "response_status_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101586_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101586_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101586_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101586_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "calendar_sync_logs_feed_config_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "calendar_sync_logs_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "calendar_sync_logs_status_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX calendar_sync_logs_pkey ON public.calendar_sync_logs USING btree (id)",
          "indexname": "calendar_sync_logs_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_logs_errors ON public.calendar_sync_logs USING btree (feed_config_id) WHERE ((status)::text = 'failed'::text)",
          "indexname": "idx_sync_logs_errors"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_logs_feed ON public.calendar_sync_logs USING btree (feed_config_id, started_at DESC)",
          "indexname": "idx_sync_logs_feed"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_logs_recent ON public.calendar_sync_logs USING btree (started_at DESC)",
          "indexname": "idx_sync_logs_recent"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_logs_status ON public.calendar_sync_logs USING btree (status, started_at DESC)",
          "indexname": "idx_sync_logs_status"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can view their own sync logs"
        }
      ]
    },
    {
      "name": "chat_conversations",
      "row_count": 2,
      "columns": 10,
      "constraints": 8,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "character varying",
          "column_name": "user_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "user_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "reservation_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": "'active'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "guest_phone_last_4",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "check_in_date",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_43896_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43896_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43896_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43896_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "chat_conversations_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "chat_conversations_reservation_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "chat_conversations_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "chat_conversations_user_type_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX chat_conversations_pkey ON public.chat_conversations USING btree (id)",
          "indexname": "chat_conversations_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_chat_conversations_reservation ON public.chat_conversations USING btree (reservation_id) WHERE ((status)::text = 'active'::text)",
          "indexname": "idx_chat_conversations_reservation"
        },
        {
          "indexdef": "CREATE INDEX idx_conversations_guest_auth ON public.chat_conversations USING btree (guest_phone_last_4, check_in_date, tenant_id)",
          "indexname": "idx_conversations_guest_auth"
        },
        {
          "indexdef": "CREATE INDEX idx_conversations_reservation ON public.chat_conversations USING btree (reservation_id, status)",
          "indexname": "idx_conversations_reservation"
        },
        {
          "indexdef": "CREATE INDEX idx_conversations_user ON public.chat_conversations USING btree (user_id, tenant_id)",
          "indexname": "idx_conversations_user"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "chat_conversations_select"
        }
      ]
    },
    {
      "name": "chat_messages",
      "row_count": 321,
      "columns": 9,
      "constraints": 6,
      "indexes": 6,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "conversation_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "role",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "jsonb",
          "column_name": "entities",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "sources",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_id",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_43914_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43914_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43914_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "chat_messages_conversation_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "chat_messages_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "chat_messages_role_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX chat_messages_pkey ON public.chat_messages USING btree (id)",
          "indexname": "chat_messages_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_chat_messages_conversation_created ON public.chat_messages USING btree (conversation_id, created_at DESC)",
          "indexname": "idx_chat_messages_conversation_created"
        },
        {
          "indexdef": "CREATE INDEX idx_chat_messages_conversation_id ON public.chat_messages USING btree (conversation_id)",
          "indexname": "idx_chat_messages_conversation_id"
        },
        {
          "indexdef": "CREATE INDEX idx_chat_messages_metadata_entities ON public.chat_messages USING gin (((metadata -> 'entities'::text)))",
          "indexname": "idx_chat_messages_metadata_entities"
        },
        {
          "indexdef": "CREATE INDEX idx_chat_messages_tenant_id ON public.chat_messages USING btree (tenant_id)",
          "indexname": "idx_chat_messages_tenant_id"
        },
        {
          "indexdef": "CREATE INDEX idx_messages_conversation ON public.chat_messages USING btree (conversation_id, created_at)",
          "indexname": "idx_messages_conversation"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "chat_messages_select"
        }
      ]
    },
    {
      "name": "code_embeddings",
      "row_count": 4333,
      "columns": 8,
      "constraints": 6,
      "indexes": 4,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "text",
          "column_name": "file_path",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "chunk_index",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_64275_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64275_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64275_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64275_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64275_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "code_embeddings_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX code_embeddings_embedding_idx ON public.code_embeddings USING hnsw (embedding extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "code_embeddings_embedding_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX code_embeddings_file_chunk_idx ON public.code_embeddings USING btree (file_path, chunk_index)",
          "indexname": "code_embeddings_file_chunk_idx"
        },
        {
          "indexdef": "CREATE INDEX code_embeddings_file_path_idx ON public.code_embeddings USING btree (file_path)",
          "indexname": "code_embeddings_file_path_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX code_embeddings_pkey ON public.code_embeddings USING btree (id)",
          "indexname": "code_embeddings_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "code_embeddings_service_role_all"
        }
      ]
    },
    {
      "name": "compliance_submissions",
      "row_count": 0,
      "columns": 11,
      "constraints": 11,
      "indexes": 6,
      "rls_policies": 3,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "guest_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "data",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "sire_response",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "tra_response",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "error_message",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "submitted_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "character varying",
          "column_name": "submitted_by",
          "is_nullable": "YES",
          "column_default": "'guest'::character varying"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_58303_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58303_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58303_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58303_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58303_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58303_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "compliance_submissions_guest_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "compliance_submissions_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "compliance_submissions_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "compliance_submissions_submitted_by_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "compliance_submissions_type_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX compliance_submissions_pkey ON public.compliance_submissions USING btree (id)",
          "indexname": "compliance_submissions_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_compliance_submissions_guest_id ON public.compliance_submissions USING btree (guest_id)",
          "indexname": "idx_compliance_submissions_guest_id"
        },
        {
          "indexdef": "CREATE INDEX idx_compliance_submissions_status ON public.compliance_submissions USING btree (status)",
          "indexname": "idx_compliance_submissions_status"
        },
        {
          "indexdef": "CREATE INDEX idx_compliance_submissions_submitted_at ON public.compliance_submissions USING btree (submitted_at DESC)",
          "indexname": "idx_compliance_submissions_submitted_at"
        },
        {
          "indexdef": "CREATE INDEX idx_compliance_submissions_tenant_id ON public.compliance_submissions USING btree (tenant_id)",
          "indexname": "idx_compliance_submissions_tenant_id"
        },
        {
          "indexdef": "CREATE INDEX idx_compliance_submissions_tenant_status_date ON public.compliance_submissions USING btree (tenant_id, status, submitted_at DESC)",
          "indexname": "idx_compliance_submissions_tenant_status_date"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Guests can create their own submissions"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Staff can update tenant submissions"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "compliance_submissions_select"
        }
      ]
    },
    {
      "name": "conversation_attachments",
      "row_count": 0,
      "columns": 14,
      "constraints": 7,
      "indexes": 7,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "conversation_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "message_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "file_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "file_url",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "file_size_bytes",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "mime_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "original_filename",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "ocr_text",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "vision_analysis",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "analysis_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "numeric",
          "column_name": "confidence_score",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_58360_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58360_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58360_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58360_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "conversation_attachments_conversation_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "conversation_attachments_file_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "conversation_attachments_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX conversation_attachments_pkey ON public.conversation_attachments USING btree (id)",
          "indexname": "conversation_attachments_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_attachments_analysis_type ON public.conversation_attachments USING btree (analysis_type)",
          "indexname": "idx_attachments_analysis_type"
        },
        {
          "indexdef": "CREATE INDEX idx_attachments_conversation ON public.conversation_attachments USING btree (conversation_id)",
          "indexname": "idx_attachments_conversation"
        },
        {
          "indexdef": "CREATE INDEX idx_attachments_created ON public.conversation_attachments USING btree (created_at DESC)",
          "indexname": "idx_attachments_created"
        },
        {
          "indexdef": "CREATE INDEX idx_attachments_message ON public.conversation_attachments USING btree (message_id)",
          "indexname": "idx_attachments_message"
        },
        {
          "indexdef": "CREATE INDEX idx_attachments_type ON public.conversation_attachments USING btree (file_type)",
          "indexname": "idx_attachments_type"
        },
        {
          "indexdef": "CREATE INDEX idx_attachments_vision_analysis ON public.conversation_attachments USING gin (vision_analysis)",
          "indexname": "idx_attachments_vision_analysis"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Guests can create own attachments"
        },
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Guests can delete own attachments"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Guests can update own attachments"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Guests can view own attachments"
        }
      ]
    },
    {
      "name": "conversation_memory",
      "row_count": 10,
      "columns": 9,
      "constraints": 9,
      "indexes": 4,
      "rls_policies": 2,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "session_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "summary_text",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "message_range",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "message_count",
          "is_nullable": "NO",
          "column_default": "10"
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_fast",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "key_entities",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_56849_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_56849_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_56849_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_56849_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_56849_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_56849_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "conversation_memory_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "conversation_memory_session_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "conversation_memory_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX conversation_memory_pkey ON public.conversation_memory USING btree (id)",
          "indexname": "conversation_memory_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_conversation_memory_embedding_fast ON public.conversation_memory USING hnsw (embedding_fast extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_conversation_memory_embedding_fast"
        },
        {
          "indexdef": "CREATE INDEX idx_conversation_memory_session ON public.conversation_memory USING btree (session_id)",
          "indexname": "idx_conversation_memory_session"
        },
        {
          "indexdef": "CREATE INDEX idx_conversation_memory_tenant ON public.conversation_memory USING btree (tenant_id)",
          "indexname": "idx_conversation_memory_tenant"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Service can insert memories"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users can view own session memories"
        }
      ]
    },
    {
      "name": "guest_conversations",
      "row_count": 112,
      "columns": 13,
      "constraints": 6,
      "indexes": 7,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "guest_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "title",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "last_message",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "integer",
          "column_name": "message_count",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "jsonb",
          "column_name": "compressed_history",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "favorites",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "boolean",
          "column_name": "is_archived",
          "is_nullable": "YES",
          "column_default": "false"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "archived_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_activity_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_58277_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58277_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58277_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58277_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "guest_conversations_guest_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "guest_conversations_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX guest_conversations_pkey ON public.guest_conversations USING btree (id)",
          "indexname": "guest_conversations_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_conversations_activity ON public.guest_conversations USING btree (tenant_id, last_activity_at DESC)",
          "indexname": "idx_conversations_activity"
        },
        {
          "indexdef": "CREATE INDEX idx_conversations_archiving ON public.guest_conversations USING btree (is_archived, last_activity_at, archived_at)",
          "indexname": "idx_conversations_archiving"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_conversations_guest_id ON public.guest_conversations USING btree (guest_id)",
          "indexname": "idx_guest_conversations_guest_id"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_conversations_guest_tenant ON public.guest_conversations USING btree (guest_id, tenant_id)",
          "indexname": "idx_guest_conversations_guest_tenant"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_conversations_tenant_id ON public.guest_conversations USING btree (tenant_id)",
          "indexname": "idx_guest_conversations_tenant_id"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_conversations_updated_at ON public.guest_conversations USING btree (updated_at DESC)",
          "indexname": "idx_guest_conversations_updated_at"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "guest_conversations_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "guest_conversations_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "guest_conversations_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "guest_conversations_update"
        }
      ]
    },
    {
      "name": "guest_reservations",
      "row_count": 104,
      "columns": 37,
      "constraints": 22,
      "indexes": 17,
      "rls_policies": 5,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": "'ONEILL SAID SAS'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "guest_name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "phone_full",
          "is_nullable": "NO",
          "column_default": "'N/A'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "phone_last_4",
          "is_nullable": "NO",
          "column_default": "'0000'::character varying"
        },
        {
          "data_type": "date",
          "column_name": "check_in_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "check_out_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "reservation_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": "'active'::character varying"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_email",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "guest_country",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "adults",
          "is_nullable": "YES",
          "column_default": "1"
        },
        {
          "data_type": "integer",
          "column_name": "children",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "numeric",
          "column_name": "total_price",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "currency",
          "is_nullable": "YES",
          "column_default": "'COP'::character varying"
        },
        {
          "data_type": "time without time zone",
          "column_name": "check_in_time",
          "is_nullable": "YES",
          "column_default": "'15:00:00'::time without time zone"
        },
        {
          "data_type": "time without time zone",
          "column_name": "check_out_time",
          "is_nullable": "YES",
          "column_default": "'12:00:00'::time without time zone"
        },
        {
          "data_type": "character varying",
          "column_name": "booking_source",
          "is_nullable": "YES",
          "column_default": "'manual'::character varying"
        },
        {
          "data_type": "text",
          "column_name": "booking_notes",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "external_booking_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "accommodation_unit_id_key",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "document_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "document_number",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "birth_date",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "first_surname",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "second_surname",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "given_names",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "nationality_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "origin_city_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "destination_city_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "hotel_sire_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "hotel_city_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character",
          "column_name": "movement_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "movement_date",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_43879_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43879_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43879_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43879_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43879_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43879_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_43879_7_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_destination_code_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_document_number_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_document_type",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_first_surname_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_given_names_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_hotel_city_code_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_hotel_sire_code_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_movement_type",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_nationality_code_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_origin_code_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "check_second_surname_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "guest_reservations_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "guest_reservations_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "guest_reservations_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "uq_motopress_booking_unit",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX guest_reservations_pkey ON public.guest_reservations USING btree (id)",
          "indexname": "guest_reservations_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_auth ON public.guest_reservations USING btree (check_in_date, phone_last_4, tenant_id)",
          "indexname": "idx_guest_auth"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_auth ON public.guest_reservations USING btree (check_in_date, phone_last_4, tenant_id) WHERE ((status)::text = 'active'::text)",
          "indexname": "idx_guest_reservations_auth"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_booking_source ON public.guest_reservations USING btree (booking_source)",
          "indexname": "idx_guest_reservations_booking_source"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_document ON public.guest_reservations USING btree (document_number) WHERE (document_number IS NOT NULL)",
          "indexname": "idx_guest_reservations_document"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_external_id ON public.guest_reservations USING btree (external_booking_id)",
          "indexname": "idx_guest_reservations_external_id"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_hotel_sire_code ON public.guest_reservations USING btree (hotel_sire_code) WHERE (hotel_sire_code IS NOT NULL)",
          "indexname": "idx_guest_reservations_hotel_sire_code"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_movement_date ON public.guest_reservations USING btree (movement_date) WHERE (movement_date IS NOT NULL)",
          "indexname": "idx_guest_reservations_movement_date"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_movement_type ON public.guest_reservations USING btree (movement_type) WHERE (movement_type IS NOT NULL)",
          "indexname": "idx_guest_reservations_movement_type"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_nationality ON public.guest_reservations USING btree (nationality_code) WHERE (nationality_code IS NOT NULL)",
          "indexname": "idx_guest_reservations_nationality"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_origin_destination ON public.guest_reservations USING btree (origin_city_code, destination_city_code) WHERE ((origin_city_code IS NOT NULL) OR (destination_city_code IS NOT NULL))",
          "indexname": "idx_guest_reservations_origin_destination"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_phone_checkin ON public.guest_reservations USING btree (phone_last_4, check_in_date)",
          "indexname": "idx_guest_reservations_phone_checkin"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_sire_export ON public.guest_reservations USING btree (tenant_id, movement_date, movement_type, status) WHERE ((movement_date IS NOT NULL) AND ((status)::text <> 'cancelled'::text))",
          "indexname": "idx_guest_reservations_sire_export"
        },
        {
          "indexdef": "CREATE INDEX idx_guest_reservations_unit ON public.guest_reservations USING btree (accommodation_unit_id)",
          "indexname": "idx_guest_reservations_unit"
        },
        {
          "indexdef": "CREATE INDEX idx_reservation_code ON public.guest_reservations USING btree (reservation_code)",
          "indexname": "idx_reservation_code"
        },
        {
          "indexdef": "CREATE INDEX idx_tenant_status ON public.guest_reservations USING btree (tenant_id, status)",
          "indexname": "idx_tenant_status"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX uq_motopress_booking_unit ON public.guest_reservations USING btree (tenant_id, external_booking_id, accommodation_unit_id_key)",
          "indexname": "uq_motopress_booking_unit"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "service_role"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Service role has full access"
        },
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenant owners can delete their own reservations"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenant users can insert their own reservations"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenant users can update their own reservations"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "guest_reservations_select"
        }
      ]
    },
    {
      "name": "hotel_operations",
      "row_count": 10,
      "columns": 14,
      "constraints": 9,
      "indexes": 7,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "operation_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "category",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "title",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_balanced",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "character varying",
          "column_name": "access_level",
          "is_nullable": "YES",
          "column_default": "'all_staff'::character varying"
        },
        {
          "data_type": "integer",
          "column_name": "version",
          "is_nullable": "YES",
          "column_default": "1"
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "uuid",
          "column_name": "created_by",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_47608_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47608_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47608_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47608_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47608_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "hotel_operations_access_level_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "hotel_operations_created_by_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "hotel_operations_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "hotel_operations_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX hotel_operations_pkey ON public.hotel_operations USING btree (operation_id)",
          "indexname": "hotel_operations_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_hotel_operations_category ON public.hotel_operations USING btree (tenant_id, category)",
          "indexname": "idx_hotel_operations_category"
        },
        {
          "indexdef": "CREATE INDEX idx_hotel_operations_created_by_fk ON public.hotel_operations USING btree (created_by)",
          "indexname": "idx_hotel_operations_created_by_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_hotel_operations_embedding_balanced ON public.hotel_operations USING ivfflat (embedding_balanced extensions.vector_cosine_ops) WITH (lists='100')",
          "indexname": "idx_hotel_operations_embedding_balanced"
        },
        {
          "indexdef": "CREATE INDEX idx_hotel_operations_embedding_balanced_hnsw ON public.hotel_operations USING hnsw (embedding_balanced extensions.vector_cosine_ops)",
          "indexname": "idx_hotel_operations_embedding_balanced_hnsw"
        },
        {
          "indexdef": "CREATE INDEX idx_hotel_operations_tenant ON public.hotel_operations USING btree (tenant_id) WHERE (is_active = true)",
          "indexname": "idx_hotel_operations_tenant"
        },
        {
          "indexdef": "CREATE INDEX idx_hotel_operations_tenant_access ON public.hotel_operations USING btree (tenant_id, access_level)",
          "indexname": "idx_hotel_operations_tenant_access"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "hotel_operations_staff_access"
        }
      ]
    },
    {
      "name": "hotels",
      "row_count": 3,
      "columns": 21,
      "constraints": 6,
      "indexes": 6,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "short_description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "address",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "contact_info",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "time without time zone",
          "column_name": "check_in_time",
          "is_nullable": "YES",
          "column_default": "'15:00:00'::time without time zone"
        },
        {
          "data_type": "time without time zone",
          "column_name": "check_out_time",
          "is_nullable": "YES",
          "column_default": "'12:00:00'::time without time zone"
        },
        {
          "data_type": "jsonb",
          "column_name": "policies",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "hotel_amenities",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "integer",
          "column_name": "motopress_property_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "full_description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "tourism_summary",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "policies_summary",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_fast",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_balanced",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "images",
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": "'active'::character varying"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_35932_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_35932_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_35932_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "hotels_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "hotels_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "hotels_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX hotels_pkey ON public.hotels USING btree (id)",
          "indexname": "hotels_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_hotels_embedding_balanced ON public.hotels USING hnsw (embedding_balanced extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_hotels_embedding_balanced"
        },
        {
          "indexdef": "CREATE INDEX idx_hotels_embedding_fast ON public.hotels USING hnsw (embedding_fast extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_hotels_embedding_fast"
        },
        {
          "indexdef": "CREATE INDEX idx_hotels_motopress ON public.hotels USING btree (motopress_property_id) WHERE (motopress_property_id IS NOT NULL)",
          "indexname": "idx_hotels_motopress"
        },
        {
          "indexdef": "CREATE INDEX idx_hotels_name ON public.hotels USING gin (to_tsvector('spanish'::regconfig, (name)::text))",
          "indexname": "idx_hotels_name"
        },
        {
          "indexdef": "CREATE INDEX idx_hotels_tenant_status ON public.hotels USING btree (tenant_id, status)",
          "indexname": "idx_hotels_tenant_status"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "hotels_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "hotels_select"
        },
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "RESTRICTIVE",
          "policyname": "hotels_tenant_isolation"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "hotels_update"
        }
      ]
    },
    {
      "name": "ics_feed_configurations",
      "row_count": 9,
      "columns": 27,
      "constraints": 17,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "feed_name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "feed_url",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "source_platform",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "feed_type",
          "is_nullable": "NO",
          "column_default": "'import'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "auth_type",
          "is_nullable": "YES",
          "column_default": "'none'::character varying"
        },
        {
          "data_type": "jsonb",
          "column_name": "auth_credentials",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "integer",
          "column_name": "sync_interval_minutes",
          "is_nullable": "YES",
          "column_default": "60"
        },
        {
          "data_type": "integer",
          "column_name": "sync_priority",
          "is_nullable": "YES",
          "column_default": "5"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_sync_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_successful_sync_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "last_sync_status",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "last_sync_error",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "last_sync_error_details",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "last_etag",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "last_modified",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "total_syncs",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "successful_syncs",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "failed_syncs",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "consecutive_failures",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "events_imported_total",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "events_imported_last",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101531_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101531_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101531_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101531_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101531_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101531_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101531_7_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "ics_feed_configurations_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "ics_feed_configurations_auth_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "ics_feed_configurations_feed_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "ics_feed_configurations_last_sync_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "ics_feed_configurations_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "ics_feed_configurations_source_platform_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "ics_feed_configurations_sync_interval_minutes_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "ics_feed_configurations_sync_priority_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "unique_feed_per_accommodation",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "valid_sync_interval",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX ics_feed_configurations_pkey ON public.ics_feed_configurations USING btree (id)",
          "indexname": "ics_feed_configurations_pkey"
        },
        {
          "indexdef": "CREATE INDEX idx_ics_feeds_active ON public.ics_feed_configurations USING btree (tenant_id, is_active) WHERE (is_active = true)",
          "indexname": "idx_ics_feeds_active"
        },
        {
          "indexdef": "CREATE INDEX idx_ics_feeds_failures ON public.ics_feed_configurations USING btree (consecutive_failures) WHERE (consecutive_failures > 3)",
          "indexname": "idx_ics_feeds_failures"
        },
        {
          "indexdef": "CREATE INDEX idx_ics_feeds_next_sync ON public.ics_feed_configurations USING btree (last_sync_at, sync_interval_minutes) WHERE (is_active = true)",
          "indexname": "idx_ics_feeds_next_sync"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX unique_feed_per_accommodation ON public.ics_feed_configurations USING btree (tenant_id, accommodation_unit_id, feed_url)",
          "indexname": "unique_feed_per_accommodation"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can manage their own ICS feeds"
        }
      ]
    },
    {
      "name": "integration_configs",
      "row_count": 3,
      "columns": 8,
      "constraints": 7,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "integration_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "config_data",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "false"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "last_sync_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_39574_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39574_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39574_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39574_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "integration_configs_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "integration_configs_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "integration_configs_tenant_id_integration_type_key",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_integration_configs_active ON public.integration_configs USING btree (is_active)",
          "indexname": "idx_integration_configs_active"
        },
        {
          "indexdef": "CREATE INDEX idx_integration_configs_tenant_id ON public.integration_configs USING btree (tenant_id)",
          "indexname": "idx_integration_configs_tenant_id"
        },
        {
          "indexdef": "CREATE INDEX idx_integration_configs_type ON public.integration_configs USING btree (integration_type)",
          "indexname": "idx_integration_configs_type"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX integration_configs_pkey ON public.integration_configs USING btree (id)",
          "indexname": "integration_configs_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX integration_configs_tenant_id_integration_type_key ON public.integration_configs USING btree (tenant_id, integration_type)",
          "indexname": "integration_configs_tenant_id_integration_type_key"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users can only access their tenant's integration configs"
        }
      ]
    },
    {
      "name": "job_logs",
      "row_count": 39,
      "columns": 10,
      "constraints": 9,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "log_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "text",
          "column_name": "job_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "job_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "started_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "completed_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "error_message",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_78518_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_78518_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_78518_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_78518_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_78518_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "job_logs_job_id_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "job_logs_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "job_logs_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "job_logs_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_job_logs_created ON public.job_logs USING btree (created_at DESC)",
          "indexname": "idx_job_logs_created"
        },
        {
          "indexdef": "CREATE INDEX idx_job_logs_status ON public.job_logs USING btree (status)",
          "indexname": "idx_job_logs_status"
        },
        {
          "indexdef": "CREATE INDEX idx_job_logs_tenant ON public.job_logs USING btree (tenant_id)",
          "indexname": "idx_job_logs_tenant"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX job_logs_job_id_key ON public.job_logs USING btree (job_id)",
          "indexname": "job_logs_job_id_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX job_logs_pkey ON public.job_logs USING btree (log_id)",
          "indexname": "job_logs_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Admins can view all job logs"
        }
      ]
    },
    {
      "name": "muva_content",
      "row_count": 742,
      "columns": 26,
      "constraints": 4,
      "indexes": 10,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "source_file",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "document_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "chunk_index",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "total_chunks",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "page_number",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "section_title",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "language",
          "is_nullable": "YES",
          "column_default": "'es'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "embedding_model",
          "is_nullable": "YES",
          "column_default": "'text-embedding-3-large'::character varying"
        },
        {
          "data_type": "integer",
          "column_name": "token_count",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "title",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "category",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "version",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "ARRAY",
          "column_name": "tags",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "ARRAY",
          "column_name": "keywords",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_fast",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "schema_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "schema_version",
          "is_nullable": "YES",
          "column_default": "'1.0'::text"
        },
        {
          "data_type": "jsonb",
          "column_name": "business_info",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "character varying",
          "column_name": "subcategory",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_30101_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_30101_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "muva_content_document_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "muva_content_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_muva_content_business_info ON public.muva_content USING gin (business_info)",
          "indexname": "idx_muva_content_business_info"
        },
        {
          "indexdef": "CREATE INDEX idx_muva_content_embedding_fast ON public.muva_content USING hnsw (embedding_fast extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_muva_content_embedding_fast"
        },
        {
          "indexdef": "CREATE INDEX idx_muva_content_subcategory ON public.muva_content USING btree (subcategory)",
          "indexname": "idx_muva_content_subcategory"
        },
        {
          "indexdef": "CREATE INDEX muva_content_category_idx ON public.muva_content USING btree (category)",
          "indexname": "muva_content_category_idx"
        },
        {
          "indexdef": "CREATE INDEX muva_content_document_type_idx ON public.muva_content USING btree (document_type)",
          "indexname": "muva_content_document_type_idx"
        },
        {
          "indexdef": "CREATE INDEX muva_content_language_idx ON public.muva_content USING btree (language)",
          "indexname": "muva_content_language_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX muva_content_pkey ON public.muva_content USING btree (id)",
          "indexname": "muva_content_pkey"
        },
        {
          "indexdef": "CREATE INDEX muva_content_status_idx ON public.muva_content USING btree (status)",
          "indexname": "muva_content_status_idx"
        },
        {
          "indexdef": "CREATE INDEX muva_content_title_gin_idx ON public.muva_content USING gin (to_tsvector('spanish'::regconfig, (title)::text))",
          "indexname": "muva_content_title_gin_idx"
        },
        {
          "indexdef": "CREATE INDEX muva_content_version_idx ON public.muva_content USING btree (version)",
          "indexname": "muva_content_version_idx"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "muva_content_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "muva_content_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "muva_content_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "muva_content_update"
        }
      ]
    },
    {
      "name": "policies",
      "row_count": 0,
      "columns": 11,
      "constraints": 9,
      "indexes": 4,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "policy_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "title",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "source_file",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "file_path",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "chunk_index",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_79891_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_79891_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_79891_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_79891_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_79891_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_79891_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_79891_7_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "policies_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "policies_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_policies_embedding ON public.policies USING ivfflat (embedding extensions.vector_cosine_ops) WITH (lists='100')",
          "indexname": "idx_policies_embedding"
        },
        {
          "indexdef": "CREATE INDEX idx_policies_source_file ON public.policies USING btree (source_file)",
          "indexname": "idx_policies_source_file"
        },
        {
          "indexdef": "CREATE INDEX idx_policies_tenant ON public.policies USING btree (tenant_id)",
          "indexname": "idx_policies_tenant"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX policies_pkey ON public.policies USING btree (policy_id)",
          "indexname": "policies_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users with tenant permissions can delete policies"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users with tenant permissions can insert policies"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users with tenant permissions can update policies"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users with tenant permissions can view policies"
        }
      ]
    },
    {
      "name": "property_relationships",
      "row_count": 1,
      "columns": 12,
      "constraints": 10,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "parent_unit_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "child_unit_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "relationship_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "boolean",
          "column_name": "block_child_on_parent",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "boolean",
          "column_name": "block_parent_on_all_children",
          "is_nullable": "YES",
          "column_default": "false"
        },
        {
          "data_type": "integer",
          "column_name": "blocking_priority",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "jsonb",
          "column_name": "blocking_conditions",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_101564_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101564_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101564_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101564_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_101564_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "no_self_relationship",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "property_relationships_blocking_priority_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "property_relationships_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "property_relationships_relationship_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "unique_property_relationship",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_property_relationships_child ON public.property_relationships USING btree (child_unit_id) WHERE (is_active = true)",
          "indexname": "idx_property_relationships_child"
        },
        {
          "indexdef": "CREATE INDEX idx_property_relationships_parent ON public.property_relationships USING btree (parent_unit_id) WHERE (is_active = true)",
          "indexname": "idx_property_relationships_parent"
        },
        {
          "indexdef": "CREATE INDEX idx_property_relationships_tenant ON public.property_relationships USING btree (tenant_id)",
          "indexname": "idx_property_relationships_tenant"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX property_relationships_pkey ON public.property_relationships USING btree (id)",
          "indexname": "property_relationships_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX unique_property_relationship ON public.property_relationships USING btree (parent_unit_id, child_unit_id)",
          "indexname": "unique_property_relationship"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can manage their own property relationships"
        }
      ]
    },
    {
      "name": "prospective_sessions",
      "row_count": 412,
      "columns": 14,
      "constraints": 15,
      "indexes": 7,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "session_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "cookie_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "conversation_history",
          "is_nullable": "NO",
          "column_default": "'[]'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "travel_intent",
          "is_nullable": "NO",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "jsonb",
          "column_name": "utm_tracking",
          "is_nullable": "NO",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "text",
          "column_name": "referrer",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "landing_page",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "converted_to_reservation_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "conversion_date",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "expires_at",
          "is_nullable": "NO",
          "column_default": "(now() + '7 days'::interval)"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_activity_at",
          "is_nullable": "NO",
          "column_default": "now()"
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": "'active'::character varying"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_47924_11_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_12_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_13_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_14_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47924_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "prospective_sessions_converted_to_reservation_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "prospective_sessions_cookie_id_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "prospective_sessions_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "prospective_sessions_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "prospective_sessions_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_prospective_sessions_cookie ON public.prospective_sessions USING btree (cookie_id) WHERE ((status)::text = 'active'::text)",
          "indexname": "idx_prospective_sessions_cookie"
        },
        {
          "indexdef": "CREATE INDEX idx_prospective_sessions_expires ON public.prospective_sessions USING btree (expires_at) WHERE ((status)::text = 'active'::text)",
          "indexname": "idx_prospective_sessions_expires"
        },
        {
          "indexdef": "CREATE INDEX idx_prospective_sessions_intent_gin ON public.prospective_sessions USING gin (travel_intent)",
          "indexname": "idx_prospective_sessions_intent_gin"
        },
        {
          "indexdef": "CREATE INDEX idx_prospective_sessions_reservation_fk ON public.prospective_sessions USING btree (converted_to_reservation_id)",
          "indexname": "idx_prospective_sessions_reservation_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_prospective_sessions_tenant ON public.prospective_sessions USING btree (tenant_id, created_at DESC)",
          "indexname": "idx_prospective_sessions_tenant"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX prospective_sessions_cookie_id_key ON public.prospective_sessions USING btree (cookie_id)",
          "indexname": "prospective_sessions_cookie_id_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX prospective_sessions_pkey ON public.prospective_sessions USING btree (session_id)",
          "indexname": "prospective_sessions_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "prospective_sessions_select"
        }
      ]
    },
    {
      "name": "reservation_accommodations",
      "row_count": 93,
      "columns": 7,
      "constraints": 5,
      "indexes": 4,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "reservation_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "accommodation_unit_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_accommodation_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "motopress_type_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "numeric",
          "column_name": "room_rate",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_94104_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_94104_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "reservation_accommodations_accommodation_unit_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "reservation_accommodations_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "reservation_accommodations_reservation_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_reservation_accommodations_accommodation_unit_id ON public.reservation_accommodations USING btree (accommodation_unit_id)",
          "indexname": "idx_reservation_accommodations_accommodation_unit_id"
        },
        {
          "indexdef": "CREATE INDEX idx_reservation_accommodations_motopress_ids ON public.reservation_accommodations USING btree (motopress_accommodation_id, motopress_type_id)",
          "indexname": "idx_reservation_accommodations_motopress_ids"
        },
        {
          "indexdef": "CREATE INDEX idx_reservation_accommodations_reservation_id ON public.reservation_accommodations USING btree (reservation_id)",
          "indexname": "idx_reservation_accommodations_reservation_id"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX reservation_accommodations_pkey ON public.reservation_accommodations USING btree (id)",
          "indexname": "reservation_accommodations_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "reservation_accommodations_tenant_isolation"
        }
      ]
    },
    {
      "name": "sire_cities",
      "row_count": 42,
      "columns": 5,
      "constraints": 3,
      "indexes": 3,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "character varying",
          "column_name": "code",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "department",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "region",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_64144_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64144_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_cities_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_sire_cities_department ON public.sire_cities USING btree (department)",
          "indexname": "idx_sire_cities_department"
        },
        {
          "indexdef": "CREATE INDEX idx_sire_cities_name ON public.sire_cities USING btree (name)",
          "indexname": "idx_sire_cities_name"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX sire_cities_pkey ON public.sire_cities USING btree (code)",
          "indexname": "sire_cities_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Public read access to cities"
        }
      ]
    },
    {
      "name": "sire_content",
      "row_count": 8,
      "columns": 22,
      "constraints": 4,
      "indexes": 8,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "source_file",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "document_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "chunk_index",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "total_chunks",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "page_number",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "section_title",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "language",
          "is_nullable": "YES",
          "column_default": "'es'::character varying"
        },
        {
          "data_type": "character varying",
          "column_name": "embedding_model",
          "is_nullable": "YES",
          "column_default": "'text-embedding-3-large'::character varying"
        },
        {
          "data_type": "integer",
          "column_name": "token_count",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "title",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "category",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "version",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "ARRAY",
          "column_name": "tags",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "ARRAY",
          "column_name": "keywords",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding_balanced",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_30083_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_30083_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_content_document_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_content_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_sire_content_embedding_balanced ON public.sire_content USING hnsw (embedding_balanced extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "idx_sire_content_embedding_balanced"
        },
        {
          "indexdef": "CREATE INDEX sire_content_category_idx ON public.sire_content USING btree (category)",
          "indexname": "sire_content_category_idx"
        },
        {
          "indexdef": "CREATE INDEX sire_content_document_type_idx ON public.sire_content USING btree (document_type)",
          "indexname": "sire_content_document_type_idx"
        },
        {
          "indexdef": "CREATE INDEX sire_content_language_idx ON public.sire_content USING btree (language)",
          "indexname": "sire_content_language_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX sire_content_pkey ON public.sire_content USING btree (id)",
          "indexname": "sire_content_pkey"
        },
        {
          "indexdef": "CREATE INDEX sire_content_status_idx ON public.sire_content USING btree (status)",
          "indexname": "sire_content_status_idx"
        },
        {
          "indexdef": "CREATE INDEX sire_content_title_gin_idx ON public.sire_content USING gin (to_tsvector('spanish'::regconfig, (title)::text))",
          "indexname": "sire_content_title_gin_idx"
        },
        {
          "indexdef": "CREATE INDEX sire_content_version_idx ON public.sire_content USING btree (version)",
          "indexname": "sire_content_version_idx"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "sire_content_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "sire_content_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "sire_content_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "sire_content_update"
        }
      ]
    },
    {
      "name": "sire_countries",
      "row_count": 45,
      "columns": 6,
      "constraints": 3,
      "indexes": 4,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "character varying",
          "column_name": "iso_code",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "name_es",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "alpha2_code",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "character varying",
          "column_name": "sire_code",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_64138_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64138_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_countries_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_sire_countries_name ON public.sire_countries USING btree (name)",
          "indexname": "idx_sire_countries_name"
        },
        {
          "indexdef": "CREATE INDEX idx_sire_countries_name_es ON public.sire_countries USING btree (name_es)",
          "indexname": "idx_sire_countries_name_es"
        },
        {
          "indexdef": "CREATE INDEX idx_sire_countries_sire_code ON public.sire_countries USING btree (sire_code)",
          "indexname": "idx_sire_countries_sire_code"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX sire_countries_pkey ON public.sire_countries USING btree (iso_code)",
          "indexname": "sire_countries_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Public read access to countries"
        }
      ]
    },
    {
      "name": "sire_document_types",
      "row_count": 4,
      "columns": 4,
      "constraints": 3,
      "indexes": 1,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "character varying",
          "column_name": "code",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_64130_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64130_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_document_types_pkey",
          "constraint_type": "PRIMARY KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX sire_document_types_pkey ON public.sire_document_types USING btree (code)",
          "indexname": "sire_document_types_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Public read access to document types"
        }
      ]
    },
    {
      "name": "sire_export_logs",
      "row_count": 0,
      "columns": 12,
      "constraints": 12,
      "indexes": 3,
      "rls_policies": 2,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "text",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "user_id",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "export_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "date",
          "column_name": "export_date",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character",
          "column_name": "movement_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "record_count",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "file_name",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "error_message",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "NO",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_64206_12_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64206_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64206_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64206_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64206_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64206_7_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_64206_9_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_export_logs_export_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_export_logs_movement_type_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_export_logs_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "sire_export_logs_status_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sire_export_logs_user_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_sire_export_logs_tenant_date ON public.sire_export_logs USING btree (tenant_id, export_date DESC)",
          "indexname": "idx_sire_export_logs_tenant_date"
        },
        {
          "indexdef": "CREATE INDEX idx_sire_export_logs_user_fk ON public.sire_export_logs USING btree (user_id)",
          "indexname": "idx_sire_export_logs_user_fk"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX sire_export_logs_pkey ON public.sire_export_logs USING btree (id)",
          "indexname": "sire_export_logs_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "service_role"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Service role can insert export logs"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenant users can view their export logs"
        }
      ]
    },
    {
      "name": "staff_conversations",
      "row_count": 43,
      "columns": 9,
      "constraints": 6,
      "indexes": 3,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "conversation_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "staff_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "title",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "category",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "YES",
          "column_default": "'active'::character varying"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_message_at",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_47637_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47637_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47637_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "staff_conversations_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "staff_conversations_staff_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "staff_conversations_status_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_staff_conversations_staff ON public.staff_conversations USING btree (staff_id, status)",
          "indexname": "idx_staff_conversations_staff"
        },
        {
          "indexdef": "CREATE INDEX idx_staff_conversations_tenant ON public.staff_conversations USING btree (tenant_id, created_at DESC)",
          "indexname": "idx_staff_conversations_tenant"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX staff_conversations_pkey ON public.staff_conversations USING btree (conversation_id)",
          "indexname": "staff_conversations_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_conversations_tenant_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_conversations_tenant_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_conversations_tenant_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_conversations_tenant_update"
        }
      ]
    },
    {
      "name": "staff_messages",
      "row_count": 58,
      "columns": 7,
      "constraints": 9,
      "indexes": 5,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "message_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "conversation_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "message_index",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "role",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_47656_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47656_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47656_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47656_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47656_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "staff_messages_conversation_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "staff_messages_conversation_id_message_index_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "staff_messages_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "staff_messages_role_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_staff_messages_conversation ON public.staff_messages USING btree (conversation_id, message_index)",
          "indexname": "idx_staff_messages_conversation"
        },
        {
          "indexdef": "CREATE INDEX idx_staff_messages_created ON public.staff_messages USING btree (created_at DESC)",
          "indexname": "idx_staff_messages_created"
        },
        {
          "indexdef": "CREATE INDEX idx_staff_messages_metadata_gin ON public.staff_messages USING gin (metadata)",
          "indexname": "idx_staff_messages_metadata_gin"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX staff_messages_conversation_id_message_index_key ON public.staff_messages USING btree (conversation_id, message_index)",
          "indexname": "staff_messages_conversation_id_message_index_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX staff_messages_pkey ON public.staff_messages USING btree (message_id)",
          "indexname": "staff_messages_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_messages_tenant_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_messages_tenant_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_messages_tenant_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_messages_tenant_update"
        }
      ]
    },
    {
      "name": "staff_users",
      "row_count": 6,
      "columns": 14,
      "constraints": 11,
      "indexes": 6,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "staff_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "role",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "username",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "password_hash",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "full_name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "email",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "phone",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "permissions",
          "is_nullable": "YES",
          "column_default": "'{\"admin_panel\": false, \"sire_access\": true, \"reports_access\": false, \"modify_operations\": false}'::jsonb"
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "last_login_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "uuid",
          "column_name": "created_by",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_47578_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47578_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47578_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47578_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47578_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_47578_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "staff_users_created_by_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "staff_users_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "staff_users_role_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "staff_users_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "staff_users_username_key",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_staff_users_created_by_fk ON public.staff_users USING btree (created_by)",
          "indexname": "idx_staff_users_created_by_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_staff_users_role ON public.staff_users USING btree (tenant_id, role)",
          "indexname": "idx_staff_users_role"
        },
        {
          "indexdef": "CREATE INDEX idx_staff_users_tenant ON public.staff_users USING btree (tenant_id) WHERE (is_active = true)",
          "indexname": "idx_staff_users_tenant"
        },
        {
          "indexdef": "CREATE INDEX idx_staff_users_username ON public.staff_users USING btree (username) WHERE (is_active = true)",
          "indexname": "idx_staff_users_username"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX staff_users_pkey ON public.staff_users USING btree (staff_id)",
          "indexname": "staff_users_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX staff_users_username_key ON public.staff_users USING btree (username)",
          "indexname": "staff_users_username_key"
        }
      ],
      "policy_details": [
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "staff_users_select"
        }
      ]
    },
    {
      "name": "sync_history",
      "row_count": 85,
      "columns": 12,
      "constraints": 7,
      "indexes": 5,
      "rls_policies": 1,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "integration_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "sync_type",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "status",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "records_processed",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "records_created",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "integer",
          "column_name": "records_updated",
          "is_nullable": "YES",
          "column_default": "0"
        },
        {
          "data_type": "text",
          "column_name": "error_message",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "started_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp without time zone",
          "column_name": "completed_at",
          "is_nullable": "YES",
          "column_default": null
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_39596_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39596_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39596_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39596_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_39596_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "sync_history_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "sync_history_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_sync_history_started_at ON public.sync_history USING btree (started_at DESC)",
          "indexname": "idx_sync_history_started_at"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_history_status ON public.sync_history USING btree (status)",
          "indexname": "idx_sync_history_status"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_history_tenant_id ON public.sync_history USING btree (tenant_id)",
          "indexname": "idx_sync_history_tenant_id"
        },
        {
          "indexdef": "CREATE INDEX idx_sync_history_type ON public.sync_history USING btree (integration_type)",
          "indexname": "idx_sync_history_type"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX sync_history_pkey ON public.sync_history USING btree (id)",
          "indexname": "sync_history_pkey"
        }
      ],
      "policy_details": [
        {
          "cmd": "ALL",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Users can only access their tenant's sync history"
        }
      ]
    },
    {
      "name": "tenant_compliance_credentials",
      "row_count": 0,
      "columns": 7,
      "constraints": 5,
      "indexes": 3,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "sire_username",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "sire_password_encrypted",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "tra_rnt_token",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_58333_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_58333_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "tenant_compliance_credentials_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "tenant_compliance_credentials_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "tenant_compliance_credentials_tenant_id_key",
          "constraint_type": "UNIQUE"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_tenant_compliance_credentials_tenant_id ON public.tenant_compliance_credentials USING btree (tenant_id)",
          "indexname": "idx_tenant_compliance_credentials_tenant_id"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_compliance_credentials_pkey ON public.tenant_compliance_credentials USING btree (id)",
          "indexname": "tenant_compliance_credentials_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_compliance_credentials_tenant_id_key ON public.tenant_compliance_credentials USING btree (tenant_id)",
          "indexname": "tenant_compliance_credentials_tenant_id_key"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only admins can create credentials"
        },
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only admins can delete credentials"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only admins can update credentials"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only admins can view credentials"
        }
      ]
    },
    {
      "name": "tenant_knowledge_embeddings",
      "row_count": 0,
      "columns": 9,
      "constraints": 9,
      "indexes": 4,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "file_path",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "integer",
          "column_name": "chunk_index",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_71499_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_71499_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_71499_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_71499_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_71499_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_71499_6_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "tenant_knowledge_embeddings_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "tenant_knowledge_embeddings_tenant_id_file_path_chunk_index_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "tenant_knowledge_embeddings_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_knowledge_embeddings_pkey ON public.tenant_knowledge_embeddings USING btree (id)",
          "indexname": "tenant_knowledge_embeddings_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_knowledge_embeddings_tenant_id_file_path_chunk_index_key ON public.tenant_knowledge_embeddings USING btree (tenant_id, file_path, chunk_index)",
          "indexname": "tenant_knowledge_embeddings_tenant_id_file_path_chunk_index_key"
        },
        {
          "indexdef": "CREATE INDEX tenant_knowledge_tenant_idx ON public.tenant_knowledge_embeddings USING btree (tenant_id)",
          "indexname": "tenant_knowledge_tenant_idx"
        },
        {
          "indexdef": "CREATE INDEX tenant_knowledge_vector_idx ON public.tenant_knowledge_embeddings USING hnsw (embedding extensions.vector_cosine_ops) WITH (m='16', ef_construction='64')",
          "indexname": "tenant_knowledge_vector_idx"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "tenant_knowledge_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "tenant_knowledge_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "tenant_knowledge_isolation"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "tenant_knowledge_update"
        }
      ]
    },
    {
      "name": "tenant_muva_content",
      "row_count": 0,
      "columns": 12,
      "constraints": 6,
      "indexes": 4,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "title",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "content",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "document_type",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "business_info",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "metadata",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "USER-DEFINED",
          "column_name": "embedding",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "source_file",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_93253_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_93253_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_93253_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_93253_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "tenant_muva_content_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "tenant_muva_content_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX tenant_muva_content_document_type_idx ON public.tenant_muva_content USING btree (document_type)",
          "indexname": "tenant_muva_content_document_type_idx"
        },
        {
          "indexdef": "CREATE INDEX tenant_muva_content_embedding_idx ON public.tenant_muva_content USING hnsw (embedding extensions.vector_cosine_ops)",
          "indexname": "tenant_muva_content_embedding_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_muva_content_pkey ON public.tenant_muva_content USING btree (id)",
          "indexname": "tenant_muva_content_pkey"
        },
        {
          "indexdef": "CREATE INDEX tenant_muva_content_tenant_id_idx ON public.tenant_muva_content USING btree (tenant_id)",
          "indexname": "tenant_muva_content_tenant_id_idx"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can delete own MUVA content"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can insert own MUVA content"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can update own MUVA content"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Tenants can view own MUVA content"
        }
      ]
    },
    {
      "name": "tenant_registry",
      "row_count": 3,
      "columns": 24,
      "constraints": 16,
      "indexes": 12,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "character varying",
          "column_name": "nit",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "razon_social",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "nombre_comercial",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "schema_name",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "tenant_type",
          "is_nullable": "YES",
          "column_default": "'hotel'::character varying"
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "character varying",
          "column_name": "slug",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "subscription_tier",
          "is_nullable": "YES",
          "column_default": "'free'::character varying"
        },
        {
          "data_type": "jsonb",
          "column_name": "features",
          "is_nullable": "YES",
          "column_default": "'{\"muva_access\": false, \"premium_chat\": false, \"guest_chat_enabled\": true, \"staff_chat_enabled\": true}'::jsonb"
        },
        {
          "data_type": "text",
          "column_name": "subdomain",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "address",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "phone",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "email",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "social_media_links",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "text",
          "column_name": "seo_meta_description",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "ARRAY",
          "column_name": "seo_keywords",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "jsonb",
          "column_name": "landing_page_content",
          "is_nullable": "YES",
          "column_default": "'{\"hero\": {\"title\": \"\", \"cta_link\": \"/chat\", \"cta_text\": \"Get Started\", \"subtitle\": \"\"}, \"about\": {\"title\": \"About Us\", \"content\": \"\"}, \"contact\": {\"email\": \"\", \"phone\": \"\", \"title\": \"Contact Us\", \"address\": \"\"}, \"gallery\": {\"title\": \"Gallery\", \"images\": []}, \"services\": {\"items\": [], \"title\": \"Our Services\"}}'::jsonb"
        },
        {
          "data_type": "text",
          "column_name": "logo_url",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "text",
          "column_name": "business_name",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "primary_color",
          "is_nullable": "YES",
          "column_default": "'#3B82F6'::character varying"
        },
        {
          "data_type": "text",
          "column_name": "chat_cta_link",
          "is_nullable": "YES",
          "column_default": "'/with-me'::text"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_32442_13_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32442_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32442_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32442_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32442_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32442_5_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "email_format_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "phone_format_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "seo_meta_description_length_check",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "subdomain_format",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "tenant_registry_nit_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "tenant_registry_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "tenant_registry_schema_name_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "tenant_registry_slug_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "tenant_registry_subdomain_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "tenant_registry_tenant_type_check",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_tenant_features ON public.tenant_registry USING gin (features)",
          "indexname": "idx_tenant_features"
        },
        {
          "indexdef": "CREATE INDEX idx_tenant_registry_email ON public.tenant_registry USING btree (email) WHERE (email IS NOT NULL)",
          "indexname": "idx_tenant_registry_email"
        },
        {
          "indexdef": "CREATE INDEX idx_tenant_registry_seo_keywords ON public.tenant_registry USING gin (seo_keywords) WHERE (seo_keywords IS NOT NULL)",
          "indexname": "idx_tenant_registry_seo_keywords"
        },
        {
          "indexdef": "CREATE INDEX idx_tenant_registry_slug ON public.tenant_registry USING btree (slug)",
          "indexname": "idx_tenant_registry_slug"
        },
        {
          "indexdef": "CREATE INDEX idx_tenant_registry_social_media ON public.tenant_registry USING gin (social_media_links) WHERE (social_media_links IS NOT NULL)",
          "indexname": "idx_tenant_registry_social_media"
        },
        {
          "indexdef": "CREATE INDEX idx_tenant_subscription_tier ON public.tenant_registry USING btree (subscription_tier)",
          "indexname": "idx_tenant_subscription_tier"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_registry_nit_key ON public.tenant_registry USING btree (nit)",
          "indexname": "tenant_registry_nit_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_registry_pkey ON public.tenant_registry USING btree (tenant_id)",
          "indexname": "tenant_registry_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_registry_schema_name_key ON public.tenant_registry USING btree (schema_name)",
          "indexname": "tenant_registry_schema_name_key"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_registry_slug_key ON public.tenant_registry USING btree (slug)",
          "indexname": "tenant_registry_slug_key"
        },
        {
          "indexdef": "CREATE INDEX tenant_registry_subdomain_idx ON public.tenant_registry USING btree (subdomain)",
          "indexname": "tenant_registry_subdomain_idx"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX tenant_registry_subdomain_key ON public.tenant_registry USING btree (subdomain)",
          "indexname": "tenant_registry_subdomain_key"
        }
      ],
      "policy_details": [
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only service role can create tenants"
        },
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only service role can delete tenants"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "Only service role can update tenants"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "tenant_registry_select"
        }
      ]
    },
    {
      "name": "user_tenant_permissions",
      "row_count": 1,
      "columns": 11,
      "constraints": 10,
      "indexes": 7,
      "rls_policies": 4,
      "column_details": [
        {
          "data_type": "uuid",
          "column_name": "id",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()"
        },
        {
          "data_type": "uuid",
          "column_name": "user_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "uuid",
          "column_name": "tenant_id",
          "is_nullable": "NO",
          "column_default": null
        },
        {
          "data_type": "character varying",
          "column_name": "role",
          "is_nullable": "NO",
          "column_default": "'viewer'::character varying"
        },
        {
          "data_type": "jsonb",
          "column_name": "permissions",
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb"
        },
        {
          "data_type": "uuid",
          "column_name": "granted_by",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "granted_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "expires_at",
          "is_nullable": "YES",
          "column_default": null
        },
        {
          "data_type": "boolean",
          "column_name": "is_active",
          "is_nullable": "YES",
          "column_default": "true"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "created_at",
          "is_nullable": "YES",
          "column_default": "now()"
        },
        {
          "data_type": "timestamp with time zone",
          "column_name": "updated_at",
          "is_nullable": "YES",
          "column_default": "now()"
        }
      ],
      "constraint_details": [
        {
          "constraint_name": "2200_32784_1_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32784_2_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32784_3_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "2200_32784_4_not_null",
          "constraint_type": "CHECK"
        },
        {
          "constraint_name": "user_tenant_permissions_granted_by_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "user_tenant_permissions_pkey",
          "constraint_type": "PRIMARY KEY"
        },
        {
          "constraint_name": "user_tenant_permissions_tenant_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "user_tenant_permissions_user_id_fkey",
          "constraint_type": "FOREIGN KEY"
        },
        {
          "constraint_name": "user_tenant_permissions_user_id_tenant_id_key",
          "constraint_type": "UNIQUE"
        },
        {
          "constraint_name": "valid_role",
          "constraint_type": "CHECK"
        }
      ],
      "index_details": [
        {
          "indexdef": "CREATE INDEX idx_user_tenant_permissions_active ON public.user_tenant_permissions USING btree (is_active) WHERE (is_active = true)",
          "indexname": "idx_user_tenant_permissions_active"
        },
        {
          "indexdef": "CREATE INDEX idx_user_tenant_permissions_granted_by_fk ON public.user_tenant_permissions USING btree (granted_by)",
          "indexname": "idx_user_tenant_permissions_granted_by_fk"
        },
        {
          "indexdef": "CREATE INDEX idx_user_tenant_permissions_role ON public.user_tenant_permissions USING btree (role)",
          "indexname": "idx_user_tenant_permissions_role"
        },
        {
          "indexdef": "CREATE INDEX idx_user_tenant_permissions_tenant_id ON public.user_tenant_permissions USING btree (tenant_id)",
          "indexname": "idx_user_tenant_permissions_tenant_id"
        },
        {
          "indexdef": "CREATE INDEX idx_user_tenant_permissions_user_id ON public.user_tenant_permissions USING btree (user_id)",
          "indexname": "idx_user_tenant_permissions_user_id"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX user_tenant_permissions_pkey ON public.user_tenant_permissions USING btree (id)",
          "indexname": "user_tenant_permissions_pkey"
        },
        {
          "indexdef": "CREATE UNIQUE INDEX user_tenant_permissions_user_id_tenant_id_key ON public.user_tenant_permissions USING btree (user_id, tenant_id)",
          "indexname": "user_tenant_permissions_user_id_tenant_id_key"
        }
      ],
      "policy_details": [
        {
          "cmd": "DELETE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "user_tenant_permissions_delete"
        },
        {
          "cmd": "INSERT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "user_tenant_permissions_insert"
        },
        {
          "cmd": "SELECT",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "user_tenant_permissions_select"
        },
        {
          "cmd": "UPDATE",
          "roles": [
            "public"
          ],
          "permissive": "PERMISSIVE",
          "policyname": "user_tenant_permissions_update"
        }
      ]
    }
  ],
  "total_foreign_keys": 46,
  "foreign_keys": [
    {
      "table_name": "accommodation_units",
      "column_name": "hotel_id",
      "foreign_table": "hotels",
      "foreign_column": "id",
      "constraint_name": "accommodation_units_hotel_id_fkey"
    },
    {
      "table_name": "accommodation_units",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "accommodation_units_tenant_id_fkey"
    },
    {
      "table_name": "accommodation_units_manual",
      "column_name": "unit_id",
      "foreign_table": "accommodation_units_public",
      "foreign_column": "unit_id",
      "constraint_name": "accommodation_units_manual_unit_id_fkey"
    },
    {
      "table_name": "accommodation_units_manual_chunks",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units",
      "foreign_column": "id",
      "constraint_name": "accommodation_units_manual_chunks_accommodation_unit_id_fkey"
    },
    {
      "table_name": "accommodation_units_manual_chunks",
      "column_name": "manual_id",
      "foreign_table": "accommodation_units_manual",
      "foreign_column": "unit_id",
      "constraint_name": "accommodation_units_manual_chunks_manual_id_fkey"
    },
    {
      "table_name": "accommodation_units_manual_chunks",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "accommodation_units_manual_chunks_tenant_id_fkey"
    },
    {
      "table_name": "accommodation_units_public",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "accommodation_units_public_tenant_id_fkey"
    },
    {
      "table_name": "airbnb_motopress_comparison",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units_public",
      "foreign_column": "unit_id",
      "constraint_name": "airbnb_motopress_comparison_accommodation_unit_id_fkey"
    },
    {
      "table_name": "airbnb_motopress_comparison",
      "column_name": "ics_event_id",
      "foreign_table": "calendar_events",
      "foreign_column": "id",
      "constraint_name": "airbnb_motopress_comparison_ics_event_id_fkey"
    },
    {
      "table_name": "airbnb_motopress_comparison",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "airbnb_motopress_comparison_tenant_id_fkey"
    },
    {
      "table_name": "airbnb_mphb_imported_reservations",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units",
      "foreign_column": "id",
      "constraint_name": "airbnb_mphb_imported_reservations_accommodation_unit_id_fkey"
    },
    {
      "table_name": "calendar_event_conflicts",
      "column_name": "event_1_id",
      "foreign_table": "calendar_events",
      "foreign_column": "id",
      "constraint_name": "calendar_event_conflicts_event_1_id_fkey"
    },
    {
      "table_name": "calendar_event_conflicts",
      "column_name": "event_2_id",
      "foreign_table": "calendar_events",
      "foreign_column": "id",
      "constraint_name": "calendar_event_conflicts_event_2_id_fkey"
    },
    {
      "table_name": "calendar_event_conflicts",
      "column_name": "winning_event_id",
      "foreign_table": "calendar_events",
      "foreign_column": "id",
      "constraint_name": "calendar_event_conflicts_winning_event_id_fkey"
    },
    {
      "table_name": "calendar_events",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units",
      "foreign_column": "id",
      "constraint_name": "calendar_events_accommodation_unit_id_fkey"
    },
    {
      "table_name": "calendar_events",
      "column_name": "merged_into_id",
      "foreign_table": "calendar_events",
      "foreign_column": "id",
      "constraint_name": "calendar_events_merged_into_id_fkey"
    },
    {
      "table_name": "calendar_events",
      "column_name": "parent_event_id",
      "foreign_table": "calendar_events",
      "foreign_column": "id",
      "constraint_name": "calendar_events_parent_event_id_fkey"
    },
    {
      "table_name": "calendar_sync_logs",
      "column_name": "feed_config_id",
      "foreign_table": "ics_feed_configurations",
      "foreign_column": "id",
      "constraint_name": "calendar_sync_logs_feed_config_id_fkey"
    },
    {
      "table_name": "chat_conversations",
      "column_name": "reservation_id",
      "foreign_table": "guest_reservations",
      "foreign_column": "id",
      "constraint_name": "chat_conversations_reservation_id_fkey"
    },
    {
      "table_name": "chat_messages",
      "column_name": "conversation_id",
      "foreign_table": "guest_conversations",
      "foreign_column": "id",
      "constraint_name": "chat_messages_conversation_id_fkey"
    },
    {
      "table_name": "compliance_submissions",
      "column_name": "guest_id",
      "foreign_table": "guest_reservations",
      "foreign_column": "id",
      "constraint_name": "compliance_submissions_guest_id_fkey"
    },
    {
      "table_name": "conversation_attachments",
      "column_name": "conversation_id",
      "foreign_table": "guest_conversations",
      "foreign_column": "id",
      "constraint_name": "conversation_attachments_conversation_id_fkey"
    },
    {
      "table_name": "conversation_memory",
      "column_name": "session_id",
      "foreign_table": "prospective_sessions",
      "foreign_column": "session_id",
      "constraint_name": "conversation_memory_session_id_fkey"
    },
    {
      "table_name": "conversation_memory",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "conversation_memory_tenant_id_fkey"
    },
    {
      "table_name": "guest_conversations",
      "column_name": "guest_id",
      "foreign_table": "guest_reservations",
      "foreign_column": "id",
      "constraint_name": "guest_conversations_guest_id_fkey"
    },
    {
      "table_name": "guest_reservations",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units",
      "foreign_column": "id",
      "constraint_name": "guest_reservations_accommodation_unit_id_fkey"
    },
    {
      "table_name": "hotel_operations",
      "column_name": "created_by",
      "foreign_table": "staff_users",
      "foreign_column": "staff_id",
      "constraint_name": "hotel_operations_created_by_fkey"
    },
    {
      "table_name": "hotel_operations",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "hotel_operations_tenant_id_fkey"
    },
    {
      "table_name": "hotels",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "hotels_tenant_id_fkey"
    },
    {
      "table_name": "ics_feed_configurations",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units",
      "foreign_column": "id",
      "constraint_name": "ics_feed_configurations_accommodation_unit_id_fkey"
    },
    {
      "table_name": "integration_configs",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "integration_configs_tenant_id_fkey"
    },
    {
      "table_name": "job_logs",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "job_logs_tenant_id_fkey"
    },
    {
      "table_name": "policies",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "policies_tenant_id_fkey"
    },
    {
      "table_name": "prospective_sessions",
      "column_name": "converted_to_reservation_id",
      "foreign_table": "guest_reservations",
      "foreign_column": "id",
      "constraint_name": "prospective_sessions_converted_to_reservation_id_fkey"
    },
    {
      "table_name": "prospective_sessions",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "prospective_sessions_tenant_id_fkey"
    },
    {
      "table_name": "reservation_accommodations",
      "column_name": "accommodation_unit_id",
      "foreign_table": "accommodation_units",
      "foreign_column": "id",
      "constraint_name": "reservation_accommodations_accommodation_unit_id_fkey"
    },
    {
      "table_name": "reservation_accommodations",
      "column_name": "reservation_id",
      "foreign_table": "guest_reservations",
      "foreign_column": "id",
      "constraint_name": "reservation_accommodations_reservation_id_fkey"
    },
    {
      "table_name": "staff_conversations",
      "column_name": "staff_id",
      "foreign_table": "staff_users",
      "foreign_column": "staff_id",
      "constraint_name": "staff_conversations_staff_id_fkey"
    },
    {
      "table_name": "staff_messages",
      "column_name": "conversation_id",
      "foreign_table": "staff_conversations",
      "foreign_column": "conversation_id",
      "constraint_name": "staff_messages_conversation_id_fkey"
    },
    {
      "table_name": "staff_users",
      "column_name": "created_by",
      "foreign_table": "staff_users",
      "foreign_column": "staff_id",
      "constraint_name": "staff_users_created_by_fkey"
    },
    {
      "table_name": "staff_users",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "staff_users_tenant_id_fkey"
    },
    {
      "table_name": "sync_history",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "sync_history_tenant_id_fkey"
    },
    {
      "table_name": "tenant_compliance_credentials",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "tenant_compliance_credentials_tenant_id_fkey"
    },
    {
      "table_name": "tenant_knowledge_embeddings",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "tenant_knowledge_embeddings_tenant_id_fkey"
    },
    {
      "table_name": "tenant_muva_content",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "tenant_muva_content_tenant_id_fkey"
    },
    {
      "table_name": "user_tenant_permissions",
      "column_name": "tenant_id",
      "foreign_table": "tenant_registry",
      "foreign_column": "tenant_id",
      "constraint_name": "user_tenant_permissions_tenant_id_fkey"
    }
  ]
}